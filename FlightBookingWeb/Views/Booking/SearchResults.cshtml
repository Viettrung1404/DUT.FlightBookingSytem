@model FlightBookingWeb.ViewModels.FlightSearchResultsViewModel

<div class="container mt-5">
    <h2 class="text-center">Search Results</h2>

    <form asp-action="SelectSeats" asp-controller="Booking" method="get" class="mt-4">
        <!-- Outbound Flights -->
        <div class="row mt-4">
            <div class="col-md-12">
                <h4>Chuyến bay đi</h4>
                @if (Model.OutboundFlights != null && Model.OutboundFlights.Any())
                {
                    <table class="table table-striped table-hover">
                        <thead class="table-dark">
                            <tr>
                                <th>Chọn</th>
                                <th>Flight ID</th>
                                <th>Sân bay đi</th>
                                <th>Sân bay đến</th>
                                <th>Ngày khởi hành</th>
                                <th>Giá</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var flight in Model.OutboundFlights)
                            {
                                <tr>
                                    <td>
                                        <input type="radio" name="outboundFlightId" value="@flight.FlightId" required>
                                    </td>
                                    <td>@flight.FlightId</td>
                                    <td>@flight.DepartureAirport</td>
                                    <td>@flight.ArrivalAirport</td>
                                    <td>@flight.DepartureOutBoardDate.ToString("yyyy-MM-dd HH:mm")</td>
                                    <td>@(flight.Price.HasValue ? flight.Price.Value.ToString("C") : "N/A")</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                }
                else
                {
                    <p class="text-muted">Không tìm thấy chuyến bay đi.</p>
                }
            </div>
        </div>

        <!-- Return Flights -->
        @if (Model.IsRoundTrip)
        {
            <div class="row mt-4">
                <div class="col-md-12">
                    <h4>Chuyến bay về</h4>
                    @if (Model.ReturnFlights != null && Model.ReturnFlights.Any())
                    {
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr>
                                    <th>Chọn</th>
                                    <th>Flight ID</th>
                                    <th>Sân bay đi</th>
                                    <th>Sân bay đến</th>
                                    <th>Ngày khởi hành</th>
                                    <th>Giá</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var flight in Model.ReturnFlights)
                                {
                                    <tr>
                                        <td>
                                            <input type="radio" name="returnFlightId" value="@flight.FlightId" required>
                                        </td>
                                        <td>@flight.FlightId</td>
                                        <td>@flight.DepartureAirport</td>
                                        <td>@flight.ArrivalAirport</td>
                                        <td>@flight.DepartureOutBoardDate.ToString("yyyy-MM-dd HH:mm")</td>
                                        <td>@(flight.Price.HasValue ? flight.Price.Value.ToString("C") : "N/A")</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    }
                    else
                    {
                        <p class="text-muted">Không tìm thấy chuyến bay về.</p>
                    }
                </div>
            </div>
        }

        <input type="hidden" name="passengerCount" value="@Model.PassengerCount" />

        <div class="row mt-4">
            <div class="col-md-12 text-center">
                <button type="submit" class="btn btn-primary btn-lg">Tiếp tục chọn ghế</button>
            </div>
        </div>
    </form>
</div>